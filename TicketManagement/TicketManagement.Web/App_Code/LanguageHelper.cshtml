@using System.Web.Mvc.Ajax
@using TicketManagement.Web.Constants

@helper LanguagesList()
{
    var wvp = PageContext.Page as System.Web.Mvc.WebViewPage;

<div class="dropdown-menu">
    @foreach (var lang in Enum.GetValues(typeof(Language)))
    {
        using (wvp?.Ajax.BeginForm("ChangeLanguage",
                new { controller = "Language" },
                new AjaxOptions { HttpMethod = WebRequestMethods.Http.Post, OnSuccess = "reloadPage" },
                new { id = @lang }))
            {
                <input type='submit' name='language' value='@lang' class='dropdown-item'>
            }
    }
</div>
}